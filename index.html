<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1mika</title>
  <style>
    @import url("https://use.typekit.net/zuk4pzv.css");
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: "minion-pro", serif; background: #fff; }

    a { color: inherit; text-decoration: none; }

    .content {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0; /* Dreamscape와 동일하게 0 */
    }

    .thumbnail {
      display: flex;
      flex-direction: column;
      color: inherit;
    }

    .thumbnail img {
      width: 100%;
      display: block;
    }

    /* Dreamscape 코드의 .caption 스타일 100% 복사 */
    .caption {
      font-size: 12px;
      margin-top: 6px;
      margin-bottom: 6px;
      line-height: 1.2; /* 줄간격 명시 */
    }

    /* 이하 나머지 스타일 생략 (기존과 동일) */
    .footer { position: fixed; bottom: 0; width: 100%; height: 100px; z-index: 1000; pointer-events: none; }
    .footer * { pointer-events: auto; }
    .footer .right-link { position: absolute; bottom: 10px; left: 30px; font-size: 12px; }
    .footer #listButton { position: absolute; bottom: 10px; right: 30px; font-size: 12px; cursor: pointer; }

    .slide-box { position: fixed; top: 0; right: 0; width: 373px; height: 100%; background: #fff; z-index: 3000; overflow-y: auto; border-left: 1px solid #9fa0a0; transform: translateX(100%); transition: .3s; }
    .slide-box.active { transform: translateX(0); }

    @media (min-width: 769px) {
      body, html { width: 100%; height: 100%; overflow: hidden; }
      .gallery-wrap { display: flex; justify-content: flex-end; height: 100%; width: calc(100% - 373px); }
      .fixed-image { flex: 1; display: flex; justify-content: center; align-items: center; }
      .fixed-image img { max-width: 100%; max-height: 100%; object-fit: contain; }
      .scroll-area { width: 265px; height: 100vh; overflow-y: auto; border-left: 1px solid #9fa0a0; }
      .slide-box { transform: none; position: static; }
      #listButton { display: none; }
    }
  </style>
</head>
<body>

  <div class="gallery-wrap">
    <div class="fixed-image">
      <img src="images/index.png" alt="index" />
    </div>
    <div class="scroll-area">
      <div class="content" id="gallery"></div>
    </div>
  </div>

  <div class="slide-box" id="slideBox">
    <div id="slideContent"></div>
  </div>

  <div class="footer">
    <div class="right-link"><a href="https://instagram.com/alfoxze" target="_blank">@alfoxze</a></div>
    <div id="listButton" onclick="toggleSlideBox()">list</div>
  </div>

  <script>
    async function loadData() {
      try {
        const res = await fetch("data.json");
        const data = await res.json();

        const gallery = document.getElementById('gallery');
        gallery.innerHTML = "";

        // Dreamscape의 HTML 렌더링 방식(<br>)과 100% 일치시킴
        for (let i = data.length; i >= 1; i--) {
          const d = data[i-1];
          const item = document.createElement('a');
          item.href = `${i}/`;
          item.className = 'thumbnail';
          item.innerHTML = `
            <img src="images/thumb${i}.png" alt="thumbnail"/>
            <div class="caption">${d.title}<br>${d.category} ${d.year}</div>
          `;
          gallery.append(item);
        }

        // 슬라이드 리스트 생성
        const slideContent = document.getElementById('slideContent');
        data.forEach((d, idx) => {
          const g = document.createElement('div');
          g.innerHTML = `<div style="padding:10px; font-size:12px;">${d.title}</div>`;
          slideContent.append(g);
        });
      } catch (e) { console.error(e); }
    }

    function toggleSlideBox() {
      document.getElementById('slideBox').classList.toggle('active');
    }

    document.addEventListener('DOMContentLoaded', loadData);
  </script>
</body>
</html>
